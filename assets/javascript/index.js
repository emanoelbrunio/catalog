const s1 = [
    {
        title: 'Adeus, passado',
        duration: 67
    },
    {
        title: 'Estranhas',
        duration: 45
    },
    {
        title: 'Vá falar com sapos',
        duration: 45
    },
    {
        title: 'Hermanos',
        duration: 45
    },
    {
        title: 'Wildfire',
        duration: 45
    },
    {
        title: 'IT-19',
        duration: 45
    },
]

const s2 = [
    {
        title: 'O que vem pela frente',
        duration: 63
    },
    {
        title: 'Sangria',
        duration: 42
    },
    {
        title: 'Última bala',
        duration: 43
    },
    {
        title: 'Rosa cherokee',
        duration: 43
    },
    {
        title: 'Chupa-cabra',
        duration: 43
    },
    {
        title: 'Segredos',
        duration: 43
    },
    {
        title: 'Já quase morto',
        duration: 43
    },
    {
        title: 'Nebraska',
        duration: 43
    },
    {
        title: 'Dedo no gatilho',
        duration: 43
    },
    {
        title: 'A 29 km',
        duration: 43
    },
    {
        title: 'Juiz, júri, carrasco',
        duration: 43
    },
    {
        title: 'Anjos bons',
        duration: 43
    },
    {
        title: 'Fogueira apagando',
        duration: 43
    },
]
const s3 = [
    {
        title: 'Sementes',
        duration: 43
    },
    {
        title: 'Doente',
        duration: 43
    },
    {
        title: 'Vem comigo',
        duration: 43
    },
    {
        title: 'O assassino dentro',
        duration: 43
    }, 
    {
        title: 'É só falar',
        duration: 43
    },
    {
        title: 'Atormentado',
        duration: 43
    },   
    {
        title: 'Mortos batem à porta',
        duration: 43
    },
    {
        title: 'Nascidos para sofrer',
        duration: 43
    },
    {
        title: 'O rei suicida',
        duration: 43
    },
    {
        title: 'Lar',
        duration: 43
    },  
    {
        title: 'Não sou Judas',
        duration: 43
    },
    {
        title: 'Limpo',
        duration: 43
    },
    {
        title: 'Flecha na porta',
        duration: 43
    },
    {
        title: 'Presa',
        duration: 43
    },
    {
        title: 'Vida em luto',
        duration: 43
    },
    {
        title: 'Bem-vindos ao túmulo',
        duration: 43
    },
    
]
const s4 = [
    {
        title: '30 dias sem acidentes',
        duration: 43
    },
    {
        title: 'Infectados',
        duration: 43
    },
    {
        title: ' Isolamento',
        duration: 43
    },
    {
        title: 'Indiferença',
        duration: 43
    },
    {
        title: 'Confinados',
        duration: 43
    },
    {
        title: 'Isca viva',
        duration: 43
    },
    {
        title: 'Peso morto',
        duration: 43
    },
    {
        title: 'Longe demais',
        duration: 43
    },
    {
        title: 'Depois',
        duration: 43
    },
    {
        title: 'Prisioneiros',
        duration: 43
    },
    {
        title: 'Tem dono',
        duration: 43
    },
    {
        title: 'Alambique',
        duration: 43
    },
    {
        title: 'Sozinho',
        duration: 43
    },
    {
        title: 'O bosque',
        duration: 43
    },
    {
        title: 'Nós',
        duration: 43
    },
    {
        title: 'A',
        duration: 43
    },
    
]
const s5 = [
    {
        title: 'Sem refúgio',
        duration: 44
    },
    {
        title: 'Estranhos',
        duration: 43
    },
    {
        title: 'Quatro paredes e um telhado',
        duration: 43
    },
    {
        title: 'Cidade das lápides',
        duration: 43
    },
    {
        title: 'Autoajuda',
        duration: 43
    },
    {
        title: 'Consumidos',
        duration: 43
    },
    {
        title: 'Crucifixos',
        duration: 43
    },
    {
        title: 'Coda',
        duration: 43
    },
    {
        title: 'O que foi e o que está sendo',
        duration: 43
    },
    {
        title: 'Eles',
        duration: 43
    },
    {
        title: 'Distância',
        duration: 43
    },
    {
        title: 'Lembrar',
        duration: 43
    },
    {
        title: 'Esquecer',
        duration: 43
    },
    {
        title: 'Desperdiçar',
        duration: 43
    },
    {
        title: 'Tentar',
        duration: 43
    },
    {
        title: 'Conquistar',
        duration: 65
    },
   
]
const persons = [
    {
        name: 'Norman Reedus',
        nameSerie: 'Daryl Dixon'
    },
    {
        name: 'Andrew Lincoln',
        nameSerie: 'Rick Grimes'
    },
    {
        name: 'Melissa McBride',
        nameSerie: 'Carol Peletier'
    },
    {
        name: 'Lauren Cohan',
        nameSerie: 'Maggie Greene'
    },
    {
        name: 'Jeffrey Morgan',
        nameSerie: 'Negan'
    },
    {
        name: 'Danai Gurira',
        nameSerie: 'Michonne'
    },
    {
        name: 'Chandler Riggs',
        nameSerie: 'Carl Grimes'
    },
    {
        name: 'Steven Yeun',
        nameSerie: 'Glenn Rhee'
    },
    {
        name: 'Josh McDermitt',
        nameSerie: 'Eugene Porter'
    },
    {
        name: 'Christian Serratos',
        nameSerie: 'Rosita Espinosa'
    },
    {
        name: 'Ross Marquand',
        nameSerie: 'Aaron'
    },
    {
        name: 'Seth Gilliam',
        nameSerie: 'Gabriel Stokes'
    },
    {
        name: 'Alanna Masterson',
        nameSerie: 'Tara Chambler'
    },
    {
        name: 'Lennie James',
        nameSerie: 'Morgan Jones'
    },
    {
        name: 'Khary Payton',
        nameSerie: 'Ezekiel'
    },
   
]



//assim que a pag carregar, iniciar na season 1
window.addEventListener('load', function(){
    createList(s1, 1);
});



// componente do episodio
function epsode(t, e, title, duration) {
    return (
        `
        <img src="assets/imagens/temporadas/t${t}e${e}.jpg" alt="">
        <div class="divTitles">
            <h4 class="titleEps">${e}. ${title}</h4>
            <h4 class="duration">${duration} min.</h4>
        </div>
        <button class="cta">Assistir</button>
        `
    )
}



//funçao para desenhar a lista de episodios
function createList(season, nSeason){
    let divEps = document.querySelector('.episodes');
    divEps.innerHTML = '';
    divEps.classList.remove('episodesSearch')
     
    let e = 1;
    season.forEach((item)=> {
        const li = document.createElement("li");
        li.classList.add('eps');

        li.innerHTML = epsode(nSeason, e, item.title, item.duration);
        divEps.appendChild(li); 
        e++;
    });
}



//verificando qual season está selecionada
const selected = document.querySelector('.select');
selected.addEventListener('change', function() {
    const selectedValue = selected.value;

    switch(selectedValue){
        case 's1':
            createList(s1, 1);
            break;
        case 's2':
            createList(s2, 2);
            break;
        case 's3':
            createList(s3, 3);
            break;
        case 's4':
            createList(s4, 4);
            break;
        case 's5':
            createList(s5, 5);
            break;
        default: 
            console.log('erro');        
    }
});



//-------------- SEARCH-----------------------------

const sub = document.querySelector('.submit');
sub.addEventListener('click', function() {
    const valueSearch = document.querySelector('.inputSearch').value;
    const seasonSelect = document.querySelector('.select').value;
    
    switch(seasonSelect){
        case 's1':
            search(s1, valueSearch, 1);
            break;
        case 's2':
            search(s2, valueSearch, 2);
            break;
        case 's3':
            search(s3, valueSearch, 3);
            break;
        case 's4':
            search(s4, valueSearch, 4);
            break;
        case 's5':
            search(s5, valueSearch, 5);
            break;
        default: 
            console.log('erro');        
    }
});

function search(season,valueSearch, t ){
    
    if(valueSearch && valueSearch !== ' '){
        let cont = 0;

        for(let i = 0; season.length; i++){
            const title = season[i].title;
    
            if(title.toUpperCase().includes(valueSearch.toUpperCase())){
                
                let divEps = document.querySelector('.episodes');
                divEps.classList.add('episodesSearch')
                if(cont === 0){
                    divEps.innerHTML = '';
                }
                                
                const li = document.createElement("li");
                li.classList.add('eps');
                li.innerHTML = epsode(t, i+1, season[i].title, season[i].duration);
                
                divEps.appendChild(li);
                document.querySelector('.inputSearch').value = '';
                cont++;
            }
        }
       
    }
}



// -------------- Section do elenco -------------

function person(i, name, nameSerie) {
    return (
        `
        <img src="assets/imagens/persons/p${i}.jpeg" alt="">
        <div class="divNames">
            <h4 class="name">${name}</h4>
            <h4 class="nameSerie">${nameSerie}</h4>
        </div>
        `
    )
}

let divPersons = document.querySelector('.persons');
for (let i = 1; i <= persons.length; i++) {
    const item = document.createElement("li");
    item.classList.add('person');
    item.innerHTML = person(i, persons[i-1].name, persons[i-1].nameSerie);
    divPersons.appendChild(item);
}


// evitando atualizar
const buttForm = document.querySelector('.buttForm');
buttForm.addEventListener( 'click', function(e){
    e.preventDefault();
})



// style pag
window.addEventListener("scroll", function(){

    const header = document.querySelector('header');
    
    header.classList.toggle("back", window.scrollY > 150);
})



// menu
const buttMenu = document.querySelector('.menu')

buttMenu.addEventListener('click', function(){
    const containerMenu = document.querySelector('.containerMenu');
    
    if(containerMenu.classList.contains('noneBack')){
        containerMenu.classList.remove('noneBack') 
        document.querySelector('.nameMenu').innerText = 'Fechar'

        document.querySelector('.line1Menu').classList.add('translateLine1')
        document.querySelector('.line2Menu').classList.add('noneLine')
        document.querySelector('.line3Menu').classList.add('translateLine3')
    }
    else {
        containerMenu.classList.add('noneBack')
        document.querySelector('.nameMenu').innerText = 'Menu'
        document.querySelector('.line1Menu').classList.remove('translateLine1')
        document.querySelector('.line2Menu').classList.remove('noneLine')
        document.querySelector('.line3Menu').classList.remove('translateLine3')
    }
});

window.addEventListener('scroll', function(){
    const heigthHeader = this.document.querySelector('header').clientHeight;
    this.document.body.style.setProperty('--heigthMenu', heigthHeader+'px')
});

window.addEventListener('load', function(){
    const heigthHeader = this.document.querySelector('header').clientHeight;
    this.document.body.style.setProperty('--heigthMenu', heigthHeader+'px')
});




// sumir ao clicar para navegar

const menuHome = document.querySelector('.menuHome');
const menuAbout = document.querySelector('.menuAbout');
const menuSeason = document.querySelector('.menuSeason');
const menuPerson = document.querySelector('.menuPerson');
const menuNew = document.querySelector('.menuNew');

menuHome.addEventListener('click', none)
menuAbout.addEventListener('click', none)
menuSeason.addEventListener('click', none)
menuPerson.addEventListener('click', none)
menuNew.addEventListener('click', none)

function none(){
    const containerMenu = document.querySelector('.containerMenu');
    containerMenu.classList.add('noneBack')
    document.querySelector('.nameMenu').innerText = 'Menu'
    document.querySelector('.line1Menu').classList.remove('translateLine1')
    document.querySelector('.line2Menu').classList.remove('noneLine')
    document.querySelector('.line3Menu').classList.remove('translateLine3')
}